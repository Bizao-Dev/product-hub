<?xml version="1.0" encoding="ISO-8859-1"?>
<!--
 ~ Copyright  (c) 2015-2021, AXP All Rights Reserved.
 ~
 ~ AXP. licences this file to you under  the Apache License, Version 2.0 (the "License");
 ~ you may not use this file except in compliance with the License.
 ~ You may obtain a copy of the License at
 ~
 ~   http://www.apache.org/licenses/LICENSE-2.0
 ~
 ~ Unless required by applicable law or agreed to in writing, software
 ~ distributed under the License is distributed on an "AS IS" BASIS,
 ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 ~ See the License for the specific language governing permissions and
 ~ limitations under the License.
  -->

<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta content="text/html; charset=iso-8859-1" http-equiv="content-type"/>
    <title>AXP GATEWAY 5.0.0-RC1</title>
</head>
<body>
<div id="main-content">
    <h1> AXP GATEWAY 5.0.0-RC1 Released!</h1>

    <p>
        The AXP team is pleased to announce the release of version 5.0.0-RC1 of
        the Open Source AXP Gateway.
    </p>

    <p>
        AXP (Accelerator Platform) GATEWAY is an API management and monetization platform which supports all
        aspects of an API business, including creating, publishing, consuming, discovery
        and monetization of APIs.
    </p>

    <h2>How to Run</h2>
    <ol>
        <li>Extract the downloaded zip</li>
        <li>Go to the bin directory in the extracted folder</li>

        Databases <br>
        =========<br>
        <br>
        <br>
        Create databases with following names<br>
        devtproduserstoredb<br>
        devtprodregdb<br>
        devtprodapimgtdb<br>
        devtproddepdb<br>
        devtprodratedb<br>
        devtprodapistatsdb<br>
        devtprodactivitidb<br>
        <br>
        source<br>
        wso2telcohub-5.0.0-SNAPSHOT/dbscripts/mysql.sql for devtproduserstoredb<br>
        wso2telcohub-5.0.0-SNAPSHOT/dbscripts/mysql.sql for devtprodregdb<br>
        wso2telcohub-5.0.0-SNAPSHOT/dbscripts/apimgt/mysql.sql for devtprodapimgtdb<br>
        wso2telcohub-5.0.0-SNAPSHOT/dbscripts/dep-hub/mysql/dep_db.sql for devtproddepdb<br>
        wso2telcohub-5.0.0-SNAPSHOT/dbscripts/dep-hub/mysql/rate_db.sql for devtprodratedb<br>
        wso2telcohub-5.0.0-SNAPSHOT/dbscripts/dep-hub/mysql/stats_db.sql for devtprodapistatsdb<br>
        Tables will be created on runtime for devtprodactivitidb<br>
        <br>
        Run add the following table under AM DB - devtprodapimgtdb<br>
        <br>
        CREATE TABLE IF NOT EXISTS AM_API_SCOPES (<br>
        API_ID  INTEGER NOT NULL,<br>
        SCOPE_ID  INTEGER NOT NULL,<br>
        FOREIGN KEY (API_ID) REFERENCES AM_API (API_ID) ON DELETE CASCADE  ON UPDATE CASCADE,<br>
        FOREIGN KEY (SCOPE_ID) REFERENCES IDN_OAUTH2_SCOPE (SCOPE_ID) ON DELETE CASCADE ON UPDATE CASCADE<br>
        )ENGINE = INNODB;<br>
        <br>
        <br>
        <br>
        Deploying pack<br>
        ============<br>

        TM - Profile Setup<br>
        ==============<br>
        Goto  <TM pack>/bin<br>

        chmod 777 profilesetup.sh wso2server.sh<br>
        backup internal#data#v1.war in <pack/repository/deployment/server/webapps<br>
        run profilesetup.sh<br>
        copy internal#data#v1.war to <pack/repository/deployment/server/webapps<br>
        Attached the deployment.toml files for each pack. repositiry/conf/deployment_TM.toml - Replace trafficmanager instance deployment.toml in <pack>/repository/conf/deployment.toml<br>
            Download and copy mysql-connector-java-5.1.40-bin.jar to <Product_Home>/lib<br>
                mysql-connector-java-5.1.40-bin.jar - http://central.maven.org/maven2/mysql/mysql-connector-java/5.1.40/mysql-connector-java-5.1.40.jar<br>
                start server <Product-Home>/bin/<br>
                    sh wso2server.sh -Dprofile=traffic-manager<br>
                    <br>
                    <br>
                    Gateway Setup<br>
                    ============<br>
                    <br>
                    Goto  <KM pack>/bin<br>
                        <br>
                        chmod 777 profilesetup.sh wso2server.sh<br>
                        backup internal#data#v1.war in <pack/repository/deployment/server/webapps<br>
                        run profilesetup.sh<br>
                        copy internal#data#v1.war to <pack/repository/deployment/server/webapps<br>
                        Attached the deployment.toml files for each pack. repositiry/conf/deployment_KM.toml - Replace gateway instance deployment.toml in <pack>/repository/conf/deployment.toml<br>
                            Download and copy mysql-connector-java-5.1.40-bin.jar to <Product_Home>/lib<br>
                                mysql-connector-java-5.1.40-bin.jar - http://central.maven.org/maven2/mysql/mysql-connector-java/5.1.40/mysql-connector-java-5.1.40.jar<br>
                                <br>
                                start server <Product-Home>/bin/<br>
                                    sh wso2server.sh -Dprofile=gateway-worker<br>
                                    <br>
                                    <br>
                                    Portal Setup<br>
                                    ==========<br>
                                    <br>
                                    repositiry/conf/deployment_PTL.toml - Replace portal instance deployment.toml in <pack>/repository/conf/deployment.toml<br>
                                        Download and copy mysql-connector-java-5.1.40-bin.jar to <Product_Home>/lib<br>
                                            mysql-connector-java-5.1.40-bin.jar - http://central.maven.org/maven2/mysql/mysql-connector-java/5.1.40/mysql-connector-java-5.1.40.jar<br>
                                            <br>
                                            start server <Product-Home>/bin/<br>
                                                Add following parameter based on deployment type<br>
                                                External Gateway<br>
                                                ================<br>
                                                -DDEPLOYMENT_TYPE=external_gateway \ <br>
                                                <br><br>
                                                Internal Gateway<br>
                                                =================<br>
                                                -DDEPLOYMENT_TYPE=internal_gateway_type2 \<br><br><br><br>
                                                sh wso2server.sh ( will do a profile start later )<br>
                                                <br><br>
                                                sh wso2server.sh<br>
                                                Go to Admin portal with admin user credentials.Under resident key manager add admin username and password for key manager.<br>
                                                <br>
                                                <br>
                                                KM Setup<br>
                                                ========<br>
                                                <br>
                                                download km pack from - https://sftp-release-binaries.s3.amazonaws.com/sftp/apim320/wso2is-km-5.10.0%2B1605108146035.full.zip<br>
                                                https://apim.docs.wso2.com/en/latest/install-and-setup/setup/distributed-deployment/configuring-wso2-identity-server-as-a-key-manager/<br>
                                                Refer the guide and execute Step 4 - Configure WSO2 IS with WSO2 API-M<br>
                                                Repleace deployment.toml file as below instruction.<br>
                                                km/deployment.toml - Replace keymanager instance deployment.toml in <pack>/repository/conf/deployment.toml<br>
                                                    Download and copy mysql-connector-java-5.1.40-bin.jar to <Product_Home>/lib<br>
                                                        mysql-connector-java-5.1.40-bin.jar - http://central.maven.org/maven2/mysql/mysql-connector-java/5.1.40/mysql-connector-java-5.1.40.jar<br>
                                                        <br>
                                                        start server <Product-Home>/bin/<br>
                                                            sh wso2server.sh ( will do a profile start later )<br>
                                                            <br><br>


    </ol>


    <h2>Key Features of AXP Gateway</h2>
    <ul>
        <li>
            Dep Upgrade to APIM 3.2.0
            <ol>https://apim.docs.wso2.com/en/latest/getting-started/about-this-release/</ol>
            <ol>Internal Gateway Workflows</ol>
            <ol>External Gateway Workflows</ol>
            <ol></ol>
        </li>
        <li>
            Access Control
            <ul>Ability to use any header to carry the Bearer token to the Gateway instead of the Authorization header</ul>
        </li>
        <li>
            General
            <ol>Compatibility with WSO2 IAM version 5.10.0 as the Key Manager Profile</ol>
            </ol>
        </li>
    </ul>

    <h2>Known Issues</h2>
    <ul>
        <li><a href="https://jira.wso2telco.com/jira/browse/INTGW-407">https://jira.wso2telco.com/jira/browse/INTGW-407</a></li>
    </ul>

    <h2>How You Can Contribute</h2>
    <h3>
        Reporting Issues
    </h3>
    <p>
        We encourage you to report issues, documentation faults and feature requests
        regarding
        AXP Gateway through the public <a href="https://jira.wso2telco.com/jira/projects/INTGW/issues"> AXP Gateway Jira</a>.
    </p>

    <h2>Support</h2>
    <p>
        We are committed to ensuring that your enterprise middleware deployment is
        completely supported from evaluation to production. Our unique approach
        ensures that all support leverages our open development methodology and is
        provided by the very same engineers who build the technology.
    </p>
    <p>
        For more details and to take advantage of this unique opportunity please
        visit <a href="https://support.wso2telco.com">AXP support</a>.
    </p>

    <p>
        <i>-- The AXP Team --</i>
    </p>
</div>
</body>
</html>
